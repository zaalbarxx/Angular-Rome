"use strict";function _interopDefault(a){return a&&"object"==typeof a&&"default"in a?a.default:a}var angular=_interopDefault(require("angular")),rome=_interopDefault(require("rome")),moment=_interopDefault(require("moment")),merge=_interopDefault(require("lodash.merge")),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},romeModule=angular.module("rome",[]);romeModule.provider("romeDefaults",function(){return{options:{},$get:function(){return this.options},set:function(a){this.options=a}}}),romeModule.directive("rome",["romeDefaults","$interval",function(a,b){function c(a){return!a||"true"==a}function d(a){return"object"===("undefined"==typeof a?"undefined":_typeof(a))&&null!==a}function e(a,b){var c=a.romeBefore||a.romeBeforeEq||a.romeAfterEq||a.romeAfter;if(c){var d=0===c.indexOf("#"),e=void 0,f=angular.element(document.getElementsByTagName("rome")).find("input");if(d)e=angular.element(document.getElementById(c.substr(1)));else for(var g=0;g<f.length;g++)if(f[g].getAttribute("ng-model")==c){e=angular.element(f[g]);break}if(!e)throw new Error("Cannot find rome instance from that ng-model.");a.romeBefore?b.dateValidator=rome.val.before(e[0]):a.romeBeforeEq?b.dateValidator=rome.val.beforeEq(e[0]):a.romeAfter?b.dateValidator=rome.val.after(e[0]):a.romeAfterEq&&(b.dateValidator=rome.val.afterEq(e[0]))}else b.dateValidator=Function.prototype}return{restrict:"AE",transclude:"attributes",scope:{ngModel:"=",ngChange:"=?",options:"<"},require:"^ngModel",template:'<div class="rome-container"><input type="text" ng-transclude class="rome-input {{options.inputClass}}"></div>',link:function(f,g,h){function i(){f.ngModel=j.getDateString(h.viewFormat||a.labelValue)}var j=void 0,k=g.find("input"),l=merge({},a),m=d(f.options)?f.options:{},n=merge(l,{time:c(m.time),date:c(h.date),initialValue:f.ngModel||moment().millisecond(0).second(0).minute(0).hour(0),autoHideOnBlur:!0,weekStart:h.weekStart,monthsInCalendar:h.monthsInCalendar,min:h.min,max:h.max,inputFormat:h.inputFormat,timeInterval:h.timeInterval},m);j=rome(k[0],n),d(f.options)&&(f.options.getApi=function(){return j}),b(function(){e(h,n)},100,2),angular.forEach({id:h.id,name:h.name,disabled:h.disabled,readonly:h.readonly,required:h.required,novalidate:h.novalidate,"ng-value":h.ngValue,"ng-disabled":h.ngDisabled,"ng-change":h.ngChange,"ng-model":h.ngModel},function(a,b){angular.isDefined(a)&&(g.removeAttr(b),k.attr(b,a))}),j.on("ready",function(){f.$apply(function(){j.setValue(f.ngModel),i()})}),j.on("data",function(a){f.$apply(function(){i()})}),f.$watch("ngModel",function(a){a&&j.setValue(a).emitValues()},!0),h.$observe("config",function(a){j.config(a)})}}}]);var moduleName=romeModule.name;module.exports=moduleName;